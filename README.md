2025 Avionics ROS2 Drone GCS Project
====================================

ROS 2 + PX4 SITL + rosbridge + React 기반 Ground Control Station(GCS)로
다중 드론 임무 계획 / 모니터링을 실험·검증하는 프로젝트입니다.
DDS/RTPS를 활용해 시뮬레이터와 웹 UI 간 양방향 실시간 통신을 구현하고,
물리 기체 없이도 실제 운용에 가까운 멀티드론 워크플로를 재현하는 것을 목표로 합니다.

프로젝트 개요
----
이 프로젝트의 핵심 목표는 다음과 같습니다.
- PX4 SITL 다중 인스턴스를 이용해 여러 대의 드론을 동시에 시뮬레이션 
- ROS 2 노드로 상태 정보 수집, 제어 명령 생성, 미션 관리 로직을 구현
- rosbridge(WebSocket)를 통해 웹 GCS(React)와 ROS 2 간의 실시간 통신
- 초보자도 브라우저만 켜면 사용할 수 있는 직관적인 GCS UI 제공

즉, “계획 → 제어 → 상태 수집 → 시각화”로 이어지는 멀티드론 운용 파이프라인 전체를 소프트웨어만으로 실험할 수 있는 환경을 구축합니다.
향후 실기체(PX4 기반 드론)로 확장할 수 있도록 설계 단계에서부터 토픽 구조, 네임스페이스, 미션 메시지 포맷을 표준화하는 것을 지향합니다.

시스템 아키텍쳐
----
본 프로젝트는 크게 네 가지 레이어로 구성됩니다.
- PX4 SITL 시뮬레이터 : Gazebo / gz sim 환경에서 PX4 SITL 인스턴스를 여러 개 구동합니다.
  * 각 인스턴스는 px4_0, px4_1, px4_2 … 와 같은 UXRCE_DDS 네임스페이스를 가집니다.
  * Micro XRCE-DDS Agent를 통해 ROS 2 네트워크와 브릿지됩니다.
- ROS 2 백엔드 노드 : PX4의 센서·상태 데이터를 수집하여 GCS용 통합 메시지로 가공합니다.
  * 임무 계획, 경로 생성, 이륙·착륙·RTL 등 제어 명령을 생성합니다.
  * 웹 UI에서 들어오는 명령을 실제 PX4 토픽/서비스로 변환합니다.
- rosbridge 서버 : ROS 2 메시지를 JSON 형태로 변환하여 WebSocket으로 전달합니다.
  * 웹 GCS에서 오는 JSON 명령을 다시 ROS 2 메시지로 변환합니다.
  * 여러 클라이언트가 동시에 접속하더라도 ROS 그래프는 일관성을 유지합니다.
- React 기반 웹 GCS : 드론 위치, 고도, 자세, 배터리 상태 등을 지도/패널 형태로 시각화합니다.
  * 임무 경로(웨이포인트)를 지도에서 편집하고, 미션을 시작/중지/재개할 수 있습니다.
  * 비상 복귀(홈 리턴), 마지막 웨이포인트 착륙 등 고수준 명령을 제공하여
  * 초보자도 복잡한 ROS 2 / PX4 내부를 몰라도 운용이 가능하도록 합니다.

주요 기능
----
- PX4 SITL 다중 인스턴스 구동
- 여러 개의 PX4 SITL을 서로 다른 인덱스와 네임스페이스(px4_0, px4_1, …)로 실행
- 각 드론별 좌표·자세·배터리·모드 정보를 분리하여 관리

주요 ROS2 Package
----
현재 src 디렉터리는 다음과 같은 패키지들로 구성되어 있습니다.

- px4_interface
  * PX4와 ROS 2 사이의 저수준 인터페이스 및 커스텀 메시지를 담당하는 패키지입니다.
  * 각 드론 인스턴스에 대한 네임스페이스, 토픽 이름, QoS 설정 등을 통일하여 관리합니다.

- px4_msgs
  * PX4 – ROS 2 통신에 사용되는 메시지 정의를 포함합니다.
  * 예: 고급 상태 정보, GCS UI에 특화된 통합 상태 메시지, 미션 명령 메시지 등

- px4_sim_cpp
  * C++ 기반 시뮬레이션 및 제어 노드들이 위치합니다.
  * 예: Offboard 제어 노드, 상태 수집 노드, 멀티드론 미션 관리 노드 등
  * 고성능이 필요한 부분, 정교한 상태 머신이 필요한 부분을 C++로 구현합니다.

- px4_sim_py
  * Python 기반 유틸리티 및 실험용 노드를 포함합니다.
  * 예: 간단한 테스트 스크립트, 데이터 로깅, 프로토타입 알고리즘 검증 등
  * 빠른 실험과 디버깅을 위해 사용하며, 안정화된 기능은 점진적으로 C++로 이관할 수 있습니다.

이 리포지토리는 위와 같은 목표를 향해 점진적으로 발전 중이며,
각 디렉터리의 코드와 설정은 멀티드론 GCS 아키텍처를 실험하고 학습하기 위한 예제로도 활용할 수 있습니다.
